{"ast":null,"code":"import _asyncToGenerator from\"C:/Projects/Mod_App_Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Projects\\\\Mod_App_Front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";import{auth,db}from\"./firebase\";import{toast}from\"react-toastify\";import{setDoc,doc}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignInwithGoogle(){function googleLogin(){var provider=new GoogleAuthProvider();signInWithPopup(auth,provider).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(result);user=result.user;if(!result.user){_context.next=7;break;}_context.next=5;return setDoc(doc(db,\"Users\",user.uid),{email:user.email,firstName:user.displayName,photo:user.photoURL,lastName:\"\"});case 5:toast.success(\"User logged in Successfully\",{position:\"top-center\"});window.location.href=\"/profile\";case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"continue-p\",children:\"--Or continue with--\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",cursor:\"pointer\"},onClick:googleLogin,children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../google.png\"),width:\"60%\"})})]});}export default SignInwithGoogle;","map":{"version":3,"sources":["C:/Projects/Mod_App_Front/src/components/signInWIthGoogle.js"],"names":["GoogleAuthProvider","signInWithPopup","auth","db","toast","setDoc","doc","SignInwithGoogle","googleLogin","provider","then","result","console","log","user","uid","email","firstName","displayName","photo","photoURL","lastName","success","position","window","location","href","display","justifyContent","cursor","require"],"mappings":"wOAAA,OAASA,kBAAT,CAA6BC,eAA7B,KAAoD,eAApD,CACA,OAASC,IAAT,CAAeC,EAAf,KAAyB,YAAzB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,MAAT,CAAiBC,GAAjB,KAA4B,oBAA5B,C,wFAEA,QAASC,CAAAA,gBAAT,EAA4B,CAC1B,QAASC,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,QAAQ,CAAG,GAAIT,CAAAA,kBAAJ,EAAjB,CACAC,eAAe,CAACC,IAAD,CAAOO,QAAP,CAAf,CAAgCC,IAAhC,0FAAqC,iBAAOC,MAAP,2HACnCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACMG,IAF6B,CAEtBH,MAAM,CAACG,IAFe,KAG/BH,MAAM,CAACG,IAHwB,+CAI3BT,CAAAA,MAAM,CAACC,GAAG,CAACH,EAAD,CAAK,OAAL,CAAcW,IAAI,CAACC,GAAnB,CAAJ,CAA6B,CACvCC,KAAK,CAAEF,IAAI,CAACE,KAD2B,CAEvCC,SAAS,CAAEH,IAAI,CAACI,WAFuB,CAGvCC,KAAK,CAAEL,IAAI,CAACM,QAH2B,CAIvCC,QAAQ,CAAE,EAJ6B,CAA7B,CAJqB,QAUjCjB,KAAK,CAACkB,OAAN,CAAc,6BAAd,CAA6C,CAC3CC,QAAQ,CAAE,YADiC,CAA7C,EAGAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,UAAvB,CAbiC,sDAArC,gEAgBD,CACD,mBACE,oCACE,UAAG,SAAS,CAAC,YAAb,kCADF,cAEE,YACE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,QAAnC,CAA6CC,MAAM,CAAE,SAArD,CADT,CAEE,OAAO,CAAErB,WAFX,uBAIE,YAAK,GAAG,CAAEsB,OAAO,CAAC,eAAD,CAAjB,CAAoC,KAAK,CAAE,KAA3C,EAJF,EAFF,GADF,CAWD,CACD,cAAevB,CAAAA,gBAAf","sourcesContent":["import { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\r\nimport { auth, db } from \"./firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setDoc, doc } from \"firebase/firestore\";\r\n\r\nfunction SignInwithGoogle() {\r\n  function googleLogin() {\r\n    const provider = new GoogleAuthProvider();\r\n    signInWithPopup(auth, provider).then(async (result) => {\r\n      console.log(result);\r\n      const user = result.user;\r\n      if (result.user) {\r\n        await setDoc(doc(db, \"Users\", user.uid), {\r\n          email: user.email,\r\n          firstName: user.displayName,\r\n          photo: user.photoURL,\r\n          lastName: \"\",\r\n        });\r\n        toast.success(\"User logged in Successfully\", {\r\n          position: \"top-center\",\r\n        });\r\n        window.location.href = \"/profile\";\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      <p className=\"continue-p\">--Or continue with--</p>\r\n      <div\r\n        style={{ display: \"flex\", justifyContent: \"center\", cursor: \"pointer\" }}\r\n        onClick={googleLogin}\r\n      >\r\n        <img src={require(\"../google.png\")} width={\"60%\"} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SignInwithGoogle;\r\n"]},"metadata":{},"sourceType":"module"}