{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./Wheel.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wheel=_ref=>{let{mustStartSpinning,prizeNumber,data,onStopSpinning}=_ref;const[start,setStart]=useState(false);const[spinningTime,setSpinningTime]=useState(0);const wheelRef=useRef(null);useEffect(()=>{if(mustStartSpinning){setStart(true);const time=3+Math.random()*2;// spin duration between 3 to 5 seconds\nsetSpinningTime(time*1000);setTimeout(()=>{setStart(false);onStopSpinning();},time*1000);}},[mustStartSpinning,onStopSpinning]);const spinStyle={transition:\"transform \".concat(spinningTime,\"ms cubic-bezier(0.33, 1, 0.68, 1)\"),transform:start?\"rotate(\".concat(360*5+360/data.length*prizeNumber,\"deg)\"):\"rotate(0deg)\"};return/*#__PURE__*/_jsxs(\"div\",{className:\"wheel-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wheel\",ref:wheelRef,style:spinStyle,children:data.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"wheel-segment\",style:{transform:\"rotate(\".concat(360/data.length*index,\"deg)\"),backgroundColor:index%2===0?\"#f5f5f5\":\"#ddd\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"wheel-text\",children:item.option})},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"wheel-pointer\"})]});};export default Wheel;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Wheel","_ref","mustStartSpinning","prizeNumber","data","onStopSpinning","start","setStart","spinningTime","setSpinningTime","wheelRef","time","Math","random","setTimeout","spinStyle","transition","concat","transform","length","className","children","ref","style","map","item","index","backgroundColor","option"],"sources":["C:/Projects/Mod_App_Front/src/components/Wheel.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./Wheel.css\";\r\n\r\nconst Wheel = ({ mustStartSpinning, prizeNumber, data, onStopSpinning }) => {\r\n  const [start, setStart] = useState(false);\r\n  const [spinningTime, setSpinningTime] = useState(0);\r\n  const wheelRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (mustStartSpinning) {\r\n      setStart(true);\r\n      const time = 3 + Math.random() * 2; // spin duration between 3 to 5 seconds\r\n      setSpinningTime(time * 1000);\r\n      setTimeout(() => {\r\n        setStart(false);\r\n        onStopSpinning();\r\n      }, time * 1000);\r\n    }\r\n  }, [mustStartSpinning, onStopSpinning]);\r\n\r\n  const spinStyle = {\r\n    transition: `transform ${spinningTime}ms cubic-bezier(0.33, 1, 0.68, 1)`,\r\n    transform: start\r\n      ? `rotate(${360 * 5 + (360 / data.length) * prizeNumber}deg)`\r\n      : \"rotate(0deg)\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"wheel-container\">\r\n      <div className=\"wheel\" ref={wheelRef} style={spinStyle}>\r\n        {data.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"wheel-segment\"\r\n            style={{\r\n              transform: `rotate(${(360 / data.length) * index}deg)`,\r\n              backgroundColor: index % 2 === 0 ? \"#f5f5f5\" : \"#ddd\",\r\n            }}\r\n          >\r\n            <div className=\"wheel-text\">{item.option}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"wheel-pointer\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wheel;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAA8D,IAA7D,CAAEC,iBAAiB,CAAEC,WAAW,CAAEC,IAAI,CAAEC,cAAe,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAACK,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACzC,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAAAiB,QAAQ,CAAGf,MAAM,CAAC,IAAI,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,GAAIQ,iBAAiB,CAAE,CACrBK,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAI,IAAI,CAAG,CAAC,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,CAAC,CAAE;AACpCJ,eAAe,CAACE,IAAI,CAAG,IAAI,CAAC,CAC5BG,UAAU,CAAC,IAAM,CACfP,QAAQ,CAAC,KAAK,CAAC,CACfF,cAAc,CAAC,CAAC,CAClB,CAAC,CAAEM,IAAI,CAAG,IAAI,CAAC,CACjB,CACF,CAAC,CAAE,CAACT,iBAAiB,CAAEG,cAAc,CAAC,CAAC,CAEvC,KAAM,CAAAU,SAAS,CAAG,CAChBC,UAAU,cAAAC,MAAA,CAAeT,YAAY,qCAAmC,CACxEU,SAAS,CAAEZ,KAAK,WAAAW,MAAA,CACF,GAAG,CAAG,CAAC,CAAI,GAAG,CAAGb,IAAI,CAACe,MAAM,CAAIhB,WAAW,SACrD,cACN,CAAC,CAED,mBACEJ,KAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxB,IAAA,QAAKuB,SAAS,CAAC,OAAO,CAACE,GAAG,CAAEZ,QAAS,CAACa,KAAK,CAAER,SAAU,CAAAM,QAAA,CACpDjB,IAAI,CAACoB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpB7B,IAAA,QAEEuB,SAAS,CAAC,eAAe,CACzBG,KAAK,CAAE,CACLL,SAAS,WAAAD,MAAA,CAAa,GAAG,CAAGb,IAAI,CAACe,MAAM,CAAIO,KAAK,QAAM,CACtDC,eAAe,CAAED,KAAK,CAAG,CAAC,GAAK,CAAC,CAAG,SAAS,CAAG,MACjD,CAAE,CAAAL,QAAA,cAEFxB,IAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEI,IAAI,CAACG,MAAM,CAAM,CAAC,EAP1CF,KAQF,CACN,CAAC,CACC,CAAC,cACN7B,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAAE,CAAC,EAC9B,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}