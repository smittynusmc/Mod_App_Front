{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { NumberInputActionTypes } from './numberInputAction.types';\nimport { clampStepwise, isNumber } from './utils';\n\nfunction getClampedValues(rawValue, context) {\n  var min = context.min,\n      max = context.max,\n      step = context.step;\n  var clampedValue = rawValue === null ? null : clampStepwise(rawValue, min, max, step);\n  var newInputValue = clampedValue === null ? '' : String(clampedValue);\n  return {\n    value: clampedValue,\n    inputValue: newInputValue\n  };\n}\n\nfunction stepValue(state, context, direction, multiplier) {\n  var value = state.value;\n  var _context$step = context.step,\n      step = _context$step === void 0 ? 1 : _context$step,\n      min = context.min,\n      max = context.max;\n\n  if (isNumber(value)) {\n    return {\n      up: value + (step != null ? step : 1) * multiplier,\n      down: value - (step != null ? step : 1) * multiplier\n    }[direction];\n  }\n\n  return {\n    up: min != null ? min : 1,\n    down: max != null ? max : -1\n  }[direction];\n}\n\nfunction handleClamp(state, context, inputValue) {\n  var getInputValueAsString = context.getInputValueAsString;\n  var numberValueAsString = getInputValueAsString(inputValue);\n  var intermediateValue = numberValueAsString === '' || numberValueAsString === '-' ? null : parseInt(numberValueAsString, 10);\n  var clampedValues = getClampedValues(intermediateValue, context);\n  return _extends({}, state, clampedValues);\n}\n\nfunction handleInputChange(state, context, inputValue) {\n  var getInputValueAsString = context.getInputValueAsString;\n  var numberValueAsString = getInputValueAsString(inputValue);\n\n  if (numberValueAsString.match(/^-?\\d+?$/) || numberValueAsString === '' || numberValueAsString === '-') {\n    return _extends({}, state, {\n      inputValue: numberValueAsString\n    });\n  }\n\n  return state;\n} // use this for ArrowUp, ArrowDown, button clicks\n// use this with applyMultiplier: true for PageUp, PageDown, button shift-clicks\n\n\nfunction handleStep(state, context, applyMultiplier, direction) {\n  var multiplier = applyMultiplier ? context.shiftMultiplier : 1;\n  var newValue = stepValue(state, context, direction, multiplier);\n  var clampedValues = getClampedValues(newValue, context);\n  return _extends({}, state, clampedValues);\n}\n\nfunction handleToMinOrMax(state, context, to) {\n  var newValue = context[to];\n\n  if (!isNumber(newValue)) {\n    return state;\n  }\n\n  return _extends({}, state, {\n    value: newValue,\n    inputValue: String(newValue)\n  });\n}\n\nexport function numberInputReducer(state, action) {\n  var type = action.type,\n      context = action.context;\n\n  switch (type) {\n    case NumberInputActionTypes.clamp:\n      return handleClamp(state, context, action.inputValue);\n\n    case NumberInputActionTypes.inputChange:\n      return handleInputChange(state, context, action.inputValue);\n\n    case NumberInputActionTypes.increment:\n      return handleStep(state, context, action.applyMultiplier, 'up');\n\n    case NumberInputActionTypes.decrement:\n      return handleStep(state, context, action.applyMultiplier, 'down');\n\n    case NumberInputActionTypes.incrementToMax:\n      return handleToMinOrMax(state, context, 'max');\n\n    case NumberInputActionTypes.decrementToMin:\n      return handleToMinOrMax(state, context, 'min');\n\n    case NumberInputActionTypes.resetInputValue:\n      return _extends({}, state, {\n        inputValue: String(state.value)\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Projects/Mod_App_Front/node_modules/@mui/base/unstable_useNumberInput/numberInputReducer.js"],"names":["_extends","NumberInputActionTypes","clampStepwise","isNumber","getClampedValues","rawValue","context","min","max","step","clampedValue","newInputValue","String","value","inputValue","stepValue","state","direction","multiplier","up","down","handleClamp","getInputValueAsString","numberValueAsString","intermediateValue","parseInt","clampedValues","handleInputChange","match","handleStep","applyMultiplier","shiftMultiplier","newValue","handleToMinOrMax","to","numberInputReducer","action","type","clamp","inputChange","increment","decrement","incrementToMax","decrementToMin","resetInputValue"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,SAASC,sBAAT,QAAuC,2BAAvC;AACA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,SAAxC;;AACA,SAASC,gBAAT,CAA0BC,QAA1B,EAAoCC,OAApC,EAA6C;AAC3C,MACEC,GADF,GAIID,OAJJ,CACEC,GADF;AAAA,MAEEC,GAFF,GAIIF,OAJJ,CAEEE,GAFF;AAAA,MAGEC,IAHF,GAIIH,OAJJ,CAGEG,IAHF;AAKA,MAAMC,YAAY,GAAGL,QAAQ,KAAK,IAAb,GAAoB,IAApB,GAA2BH,aAAa,CAACG,QAAD,EAAWE,GAAX,EAAgBC,GAAhB,EAAqBC,IAArB,CAA7D;AACA,MAAME,aAAa,GAAGD,YAAY,KAAK,IAAjB,GAAwB,EAAxB,GAA6BE,MAAM,CAACF,YAAD,CAAzD;AACA,SAAO;AACLG,IAAAA,KAAK,EAAEH,YADF;AAELI,IAAAA,UAAU,EAAEH;AAFP,GAAP;AAID;;AACD,SAASI,SAAT,CAAmBC,KAAnB,EAA0BV,OAA1B,EAAmCW,SAAnC,EAA8CC,UAA9C,EAA0D;AACxD,MACEL,KADF,GAEIG,KAFJ,CACEH,KADF;AAGA,sBAIIP,OAJJ,CACEG,IADF;AAAA,MACEA,IADF,8BACS,CADT;AAAA,MAEEF,GAFF,GAIID,OAJJ,CAEEC,GAFF;AAAA,MAGEC,GAHF,GAIIF,OAJJ,CAGEE,GAHF;;AAKA,MAAIL,QAAQ,CAACU,KAAD,CAAZ,EAAqB;AACnB,WAAO;AACLM,MAAAA,EAAE,EAAEN,KAAK,GAAG,CAACJ,IAAI,IAAI,IAAR,GAAeA,IAAf,GAAsB,CAAvB,IAA4BS,UADnC;AAELE,MAAAA,IAAI,EAAEP,KAAK,GAAG,CAACJ,IAAI,IAAI,IAAR,GAAeA,IAAf,GAAsB,CAAvB,IAA4BS;AAFrC,MAGLD,SAHK,CAAP;AAID;;AACD,SAAO;AACLE,IAAAA,EAAE,EAAEZ,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,CADnB;AAELa,IAAAA,IAAI,EAAEZ,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,CAAC;AAFtB,IAGLS,SAHK,CAAP;AAID;;AACD,SAASI,WAAT,CAAqBL,KAArB,EAA4BV,OAA5B,EAAqCQ,UAArC,EAAiD;AAC/C,MACEQ,qBADF,GAEIhB,OAFJ,CACEgB,qBADF;AAGA,MAAMC,mBAAmB,GAAGD,qBAAqB,CAACR,UAAD,CAAjD;AACA,MAAMU,iBAAiB,GAAGD,mBAAmB,KAAK,EAAxB,IAA8BA,mBAAmB,KAAK,GAAtD,GAA4D,IAA5D,GAAmEE,QAAQ,CAACF,mBAAD,EAAsB,EAAtB,CAArG;AACA,MAAMG,aAAa,GAAGtB,gBAAgB,CAACoB,iBAAD,EAAoBlB,OAApB,CAAtC;AACA,SAAON,QAAQ,CAAC,EAAD,EAAKgB,KAAL,EAAYU,aAAZ,CAAf;AACD;;AACD,SAASC,iBAAT,CAA2BX,KAA3B,EAAkCV,OAAlC,EAA2CQ,UAA3C,EAAuD;AACrD,MACEQ,qBADF,GAEIhB,OAFJ,CACEgB,qBADF;AAGA,MAAMC,mBAAmB,GAAGD,qBAAqB,CAACR,UAAD,CAAjD;;AACA,MAAIS,mBAAmB,CAACK,KAApB,CAA0B,UAA1B,KAAyCL,mBAAmB,KAAK,EAAjE,IAAuEA,mBAAmB,KAAK,GAAnG,EAAwG;AACtG,WAAOvB,QAAQ,CAAC,EAAD,EAAKgB,KAAL,EAAY;AACzBF,MAAAA,UAAU,EAAES;AADa,KAAZ,CAAf;AAGD;;AACD,SAAOP,KAAP;AACD,C,CAED;AACA;;;AACA,SAASa,UAAT,CAAoBb,KAApB,EAA2BV,OAA3B,EAAoCwB,eAApC,EAAqDb,SAArD,EAAgE;AAC9D,MAAMC,UAAU,GAAGY,eAAe,GAAGxB,OAAO,CAACyB,eAAX,GAA6B,CAA/D;AACA,MAAMC,QAAQ,GAAGjB,SAAS,CAACC,KAAD,EAAQV,OAAR,EAAiBW,SAAjB,EAA4BC,UAA5B,CAA1B;AACA,MAAMQ,aAAa,GAAGtB,gBAAgB,CAAC4B,QAAD,EAAW1B,OAAX,CAAtC;AACA,SAAON,QAAQ,CAAC,EAAD,EAAKgB,KAAL,EAAYU,aAAZ,CAAf;AACD;;AACD,SAASO,gBAAT,CAA0BjB,KAA1B,EAAiCV,OAAjC,EAA0C4B,EAA1C,EAA8C;AAC5C,MAAMF,QAAQ,GAAG1B,OAAO,CAAC4B,EAAD,CAAxB;;AACA,MAAI,CAAC/B,QAAQ,CAAC6B,QAAD,CAAb,EAAyB;AACvB,WAAOhB,KAAP;AACD;;AACD,SAAOhB,QAAQ,CAAC,EAAD,EAAKgB,KAAL,EAAY;AACzBH,IAAAA,KAAK,EAAEmB,QADkB;AAEzBlB,IAAAA,UAAU,EAAEF,MAAM,CAACoB,QAAD;AAFO,GAAZ,CAAf;AAID;;AACD,OAAO,SAASG,kBAAT,CAA4BnB,KAA5B,EAAmCoB,MAAnC,EAA2C;AAChD,MACEC,IADF,GAGID,MAHJ,CACEC,IADF;AAAA,MAEE/B,OAFF,GAGI8B,MAHJ,CAEE9B,OAFF;;AAIA,UAAQ+B,IAAR;AACE,SAAKpC,sBAAsB,CAACqC,KAA5B;AACE,aAAOjB,WAAW,CAACL,KAAD,EAAQV,OAAR,EAAiB8B,MAAM,CAACtB,UAAxB,CAAlB;;AACF,SAAKb,sBAAsB,CAACsC,WAA5B;AACE,aAAOZ,iBAAiB,CAACX,KAAD,EAAQV,OAAR,EAAiB8B,MAAM,CAACtB,UAAxB,CAAxB;;AACF,SAAKb,sBAAsB,CAACuC,SAA5B;AACE,aAAOX,UAAU,CAACb,KAAD,EAAQV,OAAR,EAAiB8B,MAAM,CAACN,eAAxB,EAAyC,IAAzC,CAAjB;;AACF,SAAK7B,sBAAsB,CAACwC,SAA5B;AACE,aAAOZ,UAAU,CAACb,KAAD,EAAQV,OAAR,EAAiB8B,MAAM,CAACN,eAAxB,EAAyC,MAAzC,CAAjB;;AACF,SAAK7B,sBAAsB,CAACyC,cAA5B;AACE,aAAOT,gBAAgB,CAACjB,KAAD,EAAQV,OAAR,EAAiB,KAAjB,CAAvB;;AACF,SAAKL,sBAAsB,CAAC0C,cAA5B;AACE,aAAOV,gBAAgB,CAACjB,KAAD,EAAQV,OAAR,EAAiB,KAAjB,CAAvB;;AACF,SAAKL,sBAAsB,CAAC2C,eAA5B;AACE,aAAO5C,QAAQ,CAAC,EAAD,EAAKgB,KAAL,EAAY;AACzBF,QAAAA,UAAU,EAAEF,MAAM,CAACI,KAAK,CAACH,KAAP;AADO,OAAZ,CAAf;;AAGF;AACE,aAAOG,KAAP;AAlBJ;AAoBD","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { NumberInputActionTypes } from './numberInputAction.types';\nimport { clampStepwise, isNumber } from './utils';\nfunction getClampedValues(rawValue, context) {\n  const {\n    min,\n    max,\n    step\n  } = context;\n  const clampedValue = rawValue === null ? null : clampStepwise(rawValue, min, max, step);\n  const newInputValue = clampedValue === null ? '' : String(clampedValue);\n  return {\n    value: clampedValue,\n    inputValue: newInputValue\n  };\n}\nfunction stepValue(state, context, direction, multiplier) {\n  const {\n    value\n  } = state;\n  const {\n    step = 1,\n    min,\n    max\n  } = context;\n  if (isNumber(value)) {\n    return {\n      up: value + (step != null ? step : 1) * multiplier,\n      down: value - (step != null ? step : 1) * multiplier\n    }[direction];\n  }\n  return {\n    up: min != null ? min : 1,\n    down: max != null ? max : -1\n  }[direction];\n}\nfunction handleClamp(state, context, inputValue) {\n  const {\n    getInputValueAsString\n  } = context;\n  const numberValueAsString = getInputValueAsString(inputValue);\n  const intermediateValue = numberValueAsString === '' || numberValueAsString === '-' ? null : parseInt(numberValueAsString, 10);\n  const clampedValues = getClampedValues(intermediateValue, context);\n  return _extends({}, state, clampedValues);\n}\nfunction handleInputChange(state, context, inputValue) {\n  const {\n    getInputValueAsString\n  } = context;\n  const numberValueAsString = getInputValueAsString(inputValue);\n  if (numberValueAsString.match(/^-?\\d+?$/) || numberValueAsString === '' || numberValueAsString === '-') {\n    return _extends({}, state, {\n      inputValue: numberValueAsString\n    });\n  }\n  return state;\n}\n\n// use this for ArrowUp, ArrowDown, button clicks\n// use this with applyMultiplier: true for PageUp, PageDown, button shift-clicks\nfunction handleStep(state, context, applyMultiplier, direction) {\n  const multiplier = applyMultiplier ? context.shiftMultiplier : 1;\n  const newValue = stepValue(state, context, direction, multiplier);\n  const clampedValues = getClampedValues(newValue, context);\n  return _extends({}, state, clampedValues);\n}\nfunction handleToMinOrMax(state, context, to) {\n  const newValue = context[to];\n  if (!isNumber(newValue)) {\n    return state;\n  }\n  return _extends({}, state, {\n    value: newValue,\n    inputValue: String(newValue)\n  });\n}\nexport function numberInputReducer(state, action) {\n  const {\n    type,\n    context\n  } = action;\n  switch (type) {\n    case NumberInputActionTypes.clamp:\n      return handleClamp(state, context, action.inputValue);\n    case NumberInputActionTypes.inputChange:\n      return handleInputChange(state, context, action.inputValue);\n    case NumberInputActionTypes.increment:\n      return handleStep(state, context, action.applyMultiplier, 'up');\n    case NumberInputActionTypes.decrement:\n      return handleStep(state, context, action.applyMultiplier, 'down');\n    case NumberInputActionTypes.incrementToMax:\n      return handleToMinOrMax(state, context, 'max');\n    case NumberInputActionTypes.decrementToMin:\n      return handleToMinOrMax(state, context, 'min');\n    case NumberInputActionTypes.resetInputValue:\n      return _extends({}, state, {\n        inputValue: String(state.value)\n      });\n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}