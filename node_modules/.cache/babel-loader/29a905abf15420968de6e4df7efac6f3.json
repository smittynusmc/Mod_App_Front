{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\Mod_App_Front\\\\src\\\\components\\\\profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"./firebase\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport YouTubeComments from \"./YouTubeComments\"; // Import the YouTubeComments component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  const [userDetails, setUserDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchUserData = async user => {\n    try {\n      if (user) {\n        const docRef = doc(db, \"Users\", user.uid);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          setUserDetails(docSnap.data());\n          console.log(docSnap.data());\n        } else {\n          console.log(\"No such document!\");\n        }\n      } else {\n        console.log(\"User is not logged in\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      fetchUserData(user);\n    }); // Cleanup subscription on unmount\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await auth.signOut();\n      window.location.href = \"/login\";\n      console.log(\"User logged out successfully!\");\n    } catch (error) {\n      console.error(\"Error logging out:\", error.message);\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: userDetails ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userDetails.photo,\n          width: \"40%\",\n          style: {\n            borderRadius: \"50%\"\n          },\n          alt: \"User profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Welcome \", userDetails.firstName, \" \\uD83D\\uDE4F\\uD83D\\uDE4F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", userDetails.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"First Name: \", userDetails.firstName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(YouTubeComments, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"User is not logged in.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"m8u97reLVgu2DoluN1cx44nVAd4=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Projects/Mod_App_Front/src/components/profile.js"],"names":["React","useEffect","useState","auth","db","doc","getDoc","YouTubeComments","Profile","userDetails","setUserDetails","loading","setLoading","fetchUserData","user","docRef","uid","docSnap","exists","data","console","log","error","unsubscribe","onAuthStateChanged","handleLogout","signOut","window","location","href","message","display","justifyContent","photo","borderRadius","firstName","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"./firebase\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport YouTubeComments from \"./YouTubeComments\"; // Import the YouTubeComments component\r\n\r\n\r\nfunction Profile() {\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchUserData = async (user) => {\r\n    try {\r\n      if (user) {\r\n        const docRef = doc(db, \"Users\", user.uid);\r\n        const docSnap = await getDoc(docRef);\r\n        if (docSnap.exists()) {\r\n          setUserDetails(docSnap.data());\r\n          console.log(docSnap.data());\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      } else {\r\n        console.log(\"User is not logged in\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching user data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      fetchUserData(user);\r\n    });\r\n\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await auth.signOut();\r\n      window.location.href = \"/login\";\r\n      console.log(\"User logged out successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error logging out:\", error.message);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {userDetails ? (\r\n        <>\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <img\r\n              src={userDetails.photo}\r\n              width={\"40%\"}\r\n              style={{ borderRadius: \"50%\" }}\r\n              alt=\"User profile\"\r\n            />\r\n          </div>\r\n          <h3>Welcome {userDetails.firstName} üôèüôè</h3>\r\n          <div>\r\n            <p>Email: {userDetails.email}</p>\r\n            <p>First Name: {userDetails.firstName}</p>\r\n            {/* <p>Last Name: {userDetails.lastName}</p> */}\r\n          </div>\r\n          <button className=\"btn btn-primary\" onClick={handleLogout}>\r\n            Logout\r\n          </button>\r\n          {/* Add YouTubeComments component */}\r\n          <YouTubeComments />\r\n        </>\r\n      ) : (\r\n        <p>User is not logged in.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}