{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class RandomPicker extends React.PureComponent{constructor(){super();this.state={isRunning:false,currentChoice:\"\"};this.interval=null;this.intervalDuration=25;this.duration=1000;this.start=this.start.bind(this);this.stop=this.stop.bind(this);this.reset=this.reset.bind(this);this.pickChoice=this.pickChoice.bind(this);this.setChoice=this.setChoice.bind(this);}start(){clearInterval(this.interval);this.interval=setInterval(this.setChoice,this.intervalDuration);this.setState({isRunning:true});setTimeout(()=>{if(this.state.isRunning){this.stop();}},this.duration);}stop(){clearInterval(this.interval);const{currentChoice}=this.state;this.setState({isRunning:false});// Call the parent component's callback with the selected winner\nif(this.props.onWinnerSelected&&currentChoice){this.props.onWinnerSelected(currentChoice);}}reset(){clearInterval(this.interval);this.setState({isRunning:false,currentChoice:\"\"});}pickChoice(){const{items}=this.props;if(items.length===0){return\"\";}const choice=items[Math.floor(Math.random()*items.length)];return choice;}setChoice(){this.setState({currentChoice:this.pickChoice()});}render(){const{isRunning,currentChoice}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"RandomPicker\",children:[/*#__PURE__*/_jsx(RandomPickerChoice,{choice:currentChoice}),/*#__PURE__*/_jsx(RandomPickerControls,{isRunning:isRunning,hasChoice:currentChoice.trim().length>0,start:this.start,stop:this.stop,reset:this.reset})]});}}class RandomPickerChoice extends React.PureComponent{render(){const{choice}=this.props;const content=choice?choice.trim():\"?\";return/*#__PURE__*/_jsx(\"div\",{className:\"RandomPicker__choice\",children:/*#__PURE__*/_jsx(\"span\",{className:\"RandomPicker__choiceItem\",children:content})});}}class RandomPickerControls extends React.PureComponent{render(){const{isRunning,hasChoice,start,stop,reset}=this.props;return/*#__PURE__*/_jsxs(\"div\",{className:\"RandomPicker__controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"RandomPicker__button \".concat(isRunning?\"RandomPicker__button--stop\":\"\"),onClick:isRunning?stop:start,children:isRunning?\"stop\":\"start\"}),/*#__PURE__*/_jsx(\"button\",{disabled:isRunning||!hasChoice,className:\"RandomPicker__button RandomPicker__button--reset\",onClick:reset,children:\"reset\"})]});}}export default RandomPicker;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","RandomPicker","PureComponent","constructor","state","isRunning","currentChoice","interval","intervalDuration","duration","start","bind","stop","reset","pickChoice","setChoice","clearInterval","setInterval","setState","setTimeout","props","onWinnerSelected","items","length","choice","Math","floor","random","render","className","children","RandomPickerChoice","RandomPickerControls","hasChoice","trim","content","concat","onClick","disabled"],"sources":["C:/Projects/Mod_App_Front/src/components/RandomPicker.jsx"],"sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RandomPicker extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isRunning: false,\r\n      currentChoice: \"\",\r\n    };\r\n\r\n    this.interval = null;\r\n    this.intervalDuration = 25;\r\n    this.duration = 1000;\r\n\r\n    this.start = this.start.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n    this.pickChoice = this.pickChoice.bind(this);\r\n    this.setChoice = this.setChoice.bind(this);\r\n  }\r\n\r\n  start() {\r\n    clearInterval(this.interval);\r\n    this.interval = setInterval(this.setChoice, this.intervalDuration);\r\n    this.setState({ isRunning: true });\r\n    setTimeout(() => {\r\n      if (this.state.isRunning) {\r\n        this.stop();\r\n      }\r\n    }, this.duration);\r\n  }\r\n\r\n  stop() {\r\n    clearInterval(this.interval);\r\n    const { currentChoice } = this.state;\r\n    this.setState({ isRunning: false });\r\n    // Call the parent component's callback with the selected winner\r\n    if (this.props.onWinnerSelected && currentChoice) {\r\n      this.props.onWinnerSelected(currentChoice);\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    clearInterval(this.interval);\r\n    this.setState({ isRunning: false, currentChoice: \"\" });\r\n  }\r\n\r\n  pickChoice() {\r\n    const { items } = this.props;\r\n    if (items.length === 0) {\r\n      return \"\";\r\n    }\r\n    const choice = items[Math.floor(Math.random() * items.length)];\r\n    return choice;\r\n  }\r\n\r\n  setChoice() {\r\n    this.setState({ currentChoice: this.pickChoice() });\r\n  }\r\n\r\n  render() {\r\n    const { isRunning, currentChoice } = this.state;\r\n\r\n    return (\r\n      <div className=\"RandomPicker\">\r\n        <RandomPickerChoice choice={currentChoice} />\r\n        <RandomPickerControls\r\n          isRunning={isRunning}\r\n          hasChoice={currentChoice.trim().length > 0}\r\n          start={this.start}\r\n          stop={this.stop}\r\n          reset={this.reset}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRandomPicker.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  onWinnerSelected: PropTypes.func, // Add the prop type for the callback\r\n};\r\n\r\nclass RandomPickerChoice extends React.PureComponent {\r\n  render() {\r\n    const { choice } = this.props;\r\n    const content = choice ? choice.trim() : \"?\";\r\n\r\n    return (\r\n      <div className=\"RandomPicker__choice\">\r\n        <span className=\"RandomPicker__choiceItem\">{content}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRandomPickerChoice.propTypes = {\r\n  choice: PropTypes.string,\r\n};\r\n\r\nclass RandomPickerControls extends React.PureComponent {\r\n  render() {\r\n    const { isRunning, hasChoice, start, stop, reset } = this.props;\r\n\r\n    return (\r\n      <div className=\"RandomPicker__controls\">\r\n        <button\r\n          className={`RandomPicker__button ${\r\n            isRunning ? \"RandomPicker__button--stop\" : \"\"\r\n          }`}\r\n          onClick={isRunning ? stop : start}\r\n        >\r\n          {isRunning ? \"stop\" : \"start\"}\r\n        </button>\r\n        <button\r\n          disabled={isRunning || !hasChoice}\r\n          className=\"RandomPicker__button RandomPicker__button--reset\"\r\n          onClick={reset}\r\n        >\r\n          reset\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRandomPickerControls.propTypes = {\r\n  isRunning: PropTypes.bool,\r\n  hasChoice: PropTypes.bool,\r\n  start: PropTypes.func.isRequired,\r\n  stop: PropTypes.func.isRequired,\r\n  reset: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RandomPicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}